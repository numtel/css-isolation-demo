<head>
  <title>CSS Isolation Comparison</title>

  <!-- Load Polymer Example -->
  <link rel="import" href="velocity-reporter.html">
</head>

<body>
  <a id="fork" href="https://github.com/numtel/css-isolation-demo">View Repo on Github</a>
  <h1>CSS Isolation in Meteor Components Comparison</h1>
  <table border="1" cellpadding="10">
    <thead>
      <tr>
        <th>Isolation option</th>
        <th width="45%">Advantages</th>
        <th width="45%">Disadvantages</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>iframe</td>
        <td>
          <ul>
            <li>Use the same Meteor templates, with reactivity</li>
            <li>Least amount of work to get working</li>
            <li>Completely cross-browser friendly</li>
          </ul>
        </td>
        <td>
          <ul>
            <li>Not exciting tech</li>
            <li>LESS must be compiled separately</li>
          </ul>
        </td>
      </tr>
      <tr>
        <td>Polymer WebComponent</td>
        <td>
          <ul>
            <li>Super cool markup</li>
            <li>Existing Meteor package: <code>ecwyne:polymer</code></li>
          </ul>
        </td>
        <td>
          <ul>
            <li>Templates must exist in HTML files outside of Meteor Templates (./public/) or managed in Javascript.</li>
            <li>Data passed as element attributes, very long element attributes (or as XML-esque child DOM that would need to be parsed...)</li>
            <li>No integration of events with Meteor?</li>
            <li>Large dependency</li>
            <li>LESS must be compiled separately</li>
          </ul>
        </td>
      </tr>
      <tr>
        <td>X-Tags WebComponent</td>
        <td>
          <ul>
            <li>Lower footprint than polymer</li>
          </ul>
        </td>
        <td>
          <ul>
            <li>Templates must be managed in Javascript</li>
            <li>No existing Meteor package (not necessarily an issue)</li>
            <li>Although lighter weight dependency, shadow dom is an optional extra. This means that unless a modern browser that supports shadow dom is used, the template will not have isolated css without the extra package.</li>
            <li>LESS must be compiled separately</li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>
  <p>For more information, see <a href="http://pascalprecht.github.io/2014/07/21/polymer-vs-x-tag-here-is-the-difference/">Polymer vs. X-Tag - Here's the Difference</a>.</p>
  <h2>Render template inside iframe</h2>
  <ul>
    <li>Nothing had to change to the template.</li>
    <li>The styles are fed through LESS rendering on the server. Probably best to go with pre-compiled LESS on production package.</li>
  </ul>
  {{> iframeTemplate src="hello" less=less}}
  <h2>Use Polymer to display JSON data in a WebComponent</h2>
  <ul>
    <li>Last test duration reactively set to 'Click Me' counter.</li>
    <li>Styles successfully isolated.</li>
  </ul>
  {{> polymerExample }}
  <hr>
  <p>Prepared by <a href="http://github.com/numtel">Ben Green</a></p>
</body>

<template name="hello">
  <button>Click Me</button>
  <p>You've <em>pressed</em> the button {{counter}} times.</p>
</template>

<template name="polymerExample">
  <velocity-reporter data="{{testData}}"></velocity-reporter>
</template>
